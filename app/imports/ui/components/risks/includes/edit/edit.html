<template name="Risks_Card_Edit">
  <div>
    <div class="relative">
      {{#with risk}}
        {{> Risk_Card_Edit_Main
            risk=this}}

        {{> Subcards_RiskScoring_Edit
            _id=this._id
            scores=this.scores
            onInsert=onInsertScoreCb
            onRemove=onRemoveScoreCb}}

        {{> Subcards_RiskEvaluation_Edit
            _id=this._id
            riskEvaluation=this.riskEvaluation}}

        {{> Subcards_ImprovementPlan_Edit
            label="Treatment plan"
            improvementPlan=this.improvementPlan}}

        {{> Subcards_Actions_Edit
            type="CA"
            documentId=this._id
            documentType="risk"}}

        {{> Subcards_Actions_Edit
            type="PA"
            documentId=this._id
            documentType="risk"}}

        {{> Subcards_LessonsLearned_Edit
            documentId=this._id
            documentType="risk"
            linkedTo=this.title
            linkedToId=this.sequentialId}}

        {{> Subcards_OtherFiles_Edit
            _id=this._id
            fileIds=this.fileIds
            uploaderMetaContext=uploaderMetaContext
            slingshotDirective=slingshotDirective}}
        {{> Subcards_Reviews_Edit
            documentId=this._id
            documentType="risk"}}

        {{> Subcards_Notify_Edit
            doc=this
            documentType="risk"
            onUpdate=onUpdateNotifyUserCb}}
      {{/with}}
      <div class="card-block text-xs-center">
        <button type="button" class="btn btn-secondary" {{b "click: remove"}}>Delete</button>
      </div>
    </div>
  </div>
</template>
